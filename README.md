# H5 编辑器

- 个人捯饬。

## 项目实现

技术展：vue + vuex

## 问题

- 在点 “保存” 按钮时:
  - 往服务端传递的 **数据结构** 是什么样子的？
- 如何保证：
  - **画布** 和 **属性面板** 是同步更新的？
- 如果再扩展一个 “图层” 面板:
  - **数据结构** 该怎么设计？

---

## 回答总结

- node 结构，应是规范的 vnode 形式。
- 组件集应用数组，不能用对象。数组是可排序的，对象不能。
- 都知道存储到 vuex 中即可同步数据，但问题是如何用 vuex 表示当前选中的组件。
- 图层，应该是一个 computed 计算出来的索引，而不是一个单独的数据。

---

## 数据流转

核心：B 端、C 端、管理后台，共用一个数据库。

- 创建作品：初始化一个 JSON 数据。
- 保存作品：修改 JSON 数据。
- 发布作品：修改一个标记，仅此而已。
- C 端浏览作品：获取 JSON 数据，SSR 渲染页面。
- 屏蔽作品：修改一个标记，C 端来判断。
